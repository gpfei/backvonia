# Caddy
DOMAIN=api.talevonia.com
EMAIL=contact@talevonia.com

# Server Configuration
HOST=0.0.0.0
PORT=8080
# Log levels: sqlx=warn hides SQL query logs, tower_http=debug enables request/response logging
RUST_LOG=info,backvonia=debug,sqlx=warn,sea_orm=warn,tower_http=debug

# Database
DATABASE_URL=postgresql://postgres:dev@localhost:5432/talevonia

# Redis (for rate limiting)
REDIS_URL=redis://localhost:6379

# AI Providers (Optional - legacy, not used for image generation)
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...

# IAP Verification
APPLE_SHARED_SECRET=your_apple_shared_secret
APPLE_ENVIRONMENT=sandbox  # or production
GOOGLE_SERVICE_ACCOUNT_KEY_PATH=./google-service-account.json

# Authentication (JWT + Apple Sign In)
JWT_SECRET=your-very-secure-jwt-secret-key-min-32-characters
ACCESS_TOKEN_EXPIRATION_MINUTES=15  # Short-lived access tokens (default: 15 minutes)
REFRESH_TOKEN_EXPIRATION_DAYS=7     # Long-lived refresh tokens (default: 7 days)
# APPLE_CLIENT_ID=com.talevonia.app   # Your Apple app bundle ID
APPLE_CLIENT_ID=com.talevonia   # Your Apple app bundle ID
APPLE_TEAM_ID=YOUR_TEAM_ID          # Your Apple Developer Team ID
WELCOME_BONUS_AMOUNT=5              # Welcome bonus credits for new users (default: 5)

# Application URLs
BASE_URL=http://localhost:8080

# Quota Limits (weighted units; see AIOperation::cost)
FREE_TEXT_DAILY_LIMIT=15
FREE_IMAGE_DAILY_LIMIT=10
PRO_TEXT_DAILY_LIMIT=5000
PRO_IMAGE_DAILY_LIMIT=500

# OpenRouter Configuration (used for AI text and image generation)
OPENROUTER_API_KEY=sk-or-v1-...
OPENROUTER_API_BASE=https://openrouter.ai/api/v1
OPENROUTER_REFERER=https://talevonia.app  # Optional: your app URL for OpenRouter dashboard
OPENROUTER_APP_TITLE=Talevonia  # Optional: your app name for OpenRouter dashboard

# Image Generation Models (via OpenRouter)
OPENROUTER_IMAGE_MODEL_FREE=google/gemini-2.5-flash-image-preview  # Free tier model
OPENROUTER_IMAGE_MODEL_PRO=black-forest-labs/flux.2-pro  # Pro tier model

# Deployment (production servers should pull the image built by GitHub Actions)
# BACKVONIA_IMAGE=ghcr.io/<owner>/<repo>:latest
